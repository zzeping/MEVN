(function(){"use strict";var t={1499:function(t,e,s){var r=s(144),i=s(1096),a=s(677),n=s(8819),o=s(1828),l=s(3385),c=s(4192),h=s(5057),p=s(2469),u=s(248),m=s(1908),d=s(4831),f=s(2776),A=s(8228),v=s(3551),x=s(92),g=s(1969),_=s(5234),y=function(){var t=this,e=t._self._c;return e(i.Z,{style:{"background-image":"url("+s(5087)+")"},attrs:{id:"inspire"}},[e(g.Z,{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(m.Z,{staticClass:"pa-3"},[e(d.km,[e(p.Z,{attrs:{contain:"",src:s(8949),height:"25px"}})],1)],1),e(c.Z),e(u.Z,{attrs:{dense:""}},[e(f.Z,{attrs:{color:"primary"}},t._l(t.items,(function(s,r){return e(m.Z,{key:r,attrs:{to:s.link,link:""}},[e(A.Z,[e(h.Z,{domProps:{textContent:t._s(s.icon)}})],1),e(d.km,[e(d.V9,{domProps:{textContent:t._s(s.title)}})],1)],1)})),1)],1)],1),e(a.Z,{attrs:{app:"",color:"transparent","elevate-on-scroll":"",height:"60px"}},[e(o.Z,{staticStyle:{"z-index":"1"},attrs:{elevation:"1",fab:"",small:""},on:{click:function(e){t.drawer=!t.drawer}}},[e(h.Z,[t._v(" "+t._s(t.drawer?"mdi-backburger":"mdi-menu-open")+" ")])],1),e(_.Z),e(x.Z,{attrs:{bottom:"","min-width":"170px",rounded:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e(o.Z,t._g({attrs:{icon:"","x-large":""}},s),[e(n.Z,{attrs:{color:"#c4346c",size:"40"}},[e("span",{staticClass:"white--text text-h6"},[t._v(t._s(t.user.initials))])])],1)]}}])},[e(l.Z,[e(d.km,{staticClass:"justify-center"},[e("div",{staticClass:"mx-auto text-center"},[e(n.Z,{attrs:{color:"#c4346c"}},[e("span",{staticClass:"white--text text-h5"},[t._v(t._s(t.user.initials))])]),e("h4",[t._v(t._s(t.user.fullName))]),e("p",{staticClass:"text-caption mt-1"},[t._v(" "+t._s(t.user.email)+" ")]),e(c.Z,{staticClass:"my-3"}),e(o.Z,{attrs:{depressed:"",rounded:"",text:""}},[t._v(" Edit Account ")]),e(c.Z,{staticClass:"my-3"}),e(o.Z,{attrs:{depressed:"",rounded:"",text:""}},[t._v(" Log Out ")])],1)])],1)],1)],1),e(v.Z,[e("router-view")],1)],1)},b=[],Z={data:()=>({drawer:null,items:[{title:"Home",icon:"mdi-home",link:"/"},{title:"My patients",icon:"mdi-account-search",link:"/all_patients"},{title:"My records",icon:"mdi-book-clock",link:"/my_records"},{title:"About",icon:"mdi-help-box",link:"/about"}],user:{initials:"JD",fullName:"John Doe",email:"john.doe@doe.com"}})},q=Z,k=s(1001),w=(0,k.Z)(q,y,b,!1,null,null,null),P=w.exports,D=s(8345),T=s(4437),C=s(6035),$=s(5294),M=function(){var t=this,e=t._self._c;return e(C.Z,{staticClass:"fill-height"},[e($.Z,{attrs:{"no-gutters":""}},[e(T.Z,{staticClass:"d-flex ml-5",attrs:{cols:"12",md:"7"}},[e($.Z,{staticClass:"ml-2"},[e("div",{staticClass:"mt-12 mr-7 ml-2"},[e("h1",{staticClass:"pt-5"},[t._v("A Tool to Perform Isokinetic Measurements and Generate Reports.")])]),e(o.Z,{staticClass:"ma-2",attrs:{rounded:"",outlined:"",color:"#0f6e2f",href:"/add_patient"}},[t._v(" Add Patient "),e(h.Z,{attrs:{right:"",dark:""}},[t._v(" mdi-plus-circle ")])],1),e(o.Z,{staticClass:"ma-2 white--text",attrs:{rounded:"",color:"#0f6e2f",href:"/steps"}},[t._v(" upload measurement "),e(h.Z,{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1),e(T.Z,{attrs:{cols:"12",md:"4"}},[e(p.Z,{attrs:{contain:"",src:s(8960),height:"370px"}})],1)],1)],1)},S=[],N={name:"Home"},j=N,F=(0,k.Z)(j,M,S,!1,null,null,null),O=F.exports,R=s(2202),B=s(5223),I=s(7652),Y=s(5251),E=function(){var t=this,e=t._self._c;return e(C.Z,[this.$route.params.message?e(R.Z,{attrs:{border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""}},[t._v(" "+t._s(this.$route.params.message)+" ")]):t._e(),e(l.Z,[e(B.EB,[t._v(" Patients "),e("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/add_patient"}},[e(h.Z,{staticClass:"ml-2",attrs:{small:""}},[t._v(" mdi-plus-circle-outline ")])],1),e(_.Z),e(Y.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(I.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.patients,search:t.search},scopedSlots:t._u([{key:"item.image",fn:function({item:t}){return[e(n.Z,[e(p.Z,{attrs:{src:`/${t.image}`}})],1)]}},{key:"item.actions",fn:function({item:s}){return[e("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:{name:"patient",params:{id:s._id}}}},[e(h.Z,{staticClass:"mr-2",attrs:{small:""}},[t._v(" mdi-eye ")])],1),e(h.Z,{attrs:{small:""},on:{click:function(e){return t.removePatient(s._id)}}},[t._v(" mdi-delete ")])]}}])})],1)],1)},U=[],L=s(594);const V="/api/patient",z="/api/record";class W{static async getAllPatient(){const t=await L.Z.get(V);return t.data}static async getPatientByID(t){const e=await L.Z.get(`${V}/${t}`);return e.data}static async addPatient(t){const e=await L.Z.post(V,t);return e.data}static async updatePatient(t,e){const s=await L.Z.patch(`${V}/${t}`,e);return s.data}static async updatePatientRecord(t,e){const s=await L.Z.patch(`${V}/${t}/record`,e);return s.data}static async removePatientRecord(t,e){const s=await L.Z.patch(`${V}/${t}/record_r`,e);return s.data}static async deletePatient(t){const e=await L.Z["delete"](`${V}/${t}`);return e.data}static async addRecords(t){const e=await L.Z.post(z,t);return e.data}static async getAllRecord(){const t=await L.Z.get(z);return t.data}static async deleteRecord(t){const e=await L.Z["delete"](`${z}/${t}`);return e.data}static async getRecordByID(t){const e=await L.Z.get(`${z}/${t}`);return e.data}}var J={data(){return{search:"",patients:[],headers:[{text:"Patient",value:"image"},{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Birthday",value:"birthday"},{text:"Gender",value:"gender"},{text:"Email",value:"email"},{text:"Actions",value:"actions",sortable:!1}]}},async created(){this.patients=await W.getAllPatient()},methods:{async removePatient(t){W.deletePatient(t);this.$router.go()}}},Q=J,G=(0,k.Z)(Q,E,U,!1,null,null,null),H=G.exports,K=function(){var t=this,e=t._self._c;return e(C.Z,[this.$route.params.message?e(R.Z,{attrs:{border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""}},[t._v(" "+t._s(this.$route.params.message)+" ")]):t._e(),e(l.Z,[e(B.EB,[t._v(" Records "),e("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/steps"}},[e(h.Z,{staticClass:"ml-2",attrs:{small:""}},[t._v(" mdi-plus-circle-outline ")])],1),e(_.Z),e(Y.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(I.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.new_records,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function({item:s}){return[e(h.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.test(s._id)}}},[t._v(" mdi-eye ")]),e(h.Z,{attrs:{small:""},on:{click:function(e){return t.removeRecord(s._id)}}},[t._v(" mdi-delete ")])]}}])})],1)],1)},X=[],tt={data(){return{search:"",records:[],patients:[],new_records:[],headers:[{text:"Time",value:"time"},{text:"Patient",value:"patient"},{text:"Joint",value:"joint"},{text:"Type",value:"data_type"},{text:"Actions",value:"actions",sortable:!1}]}},async created(){this.records=await W.getAllRecord(),this.patients=await W.getAllPatient(),this.processRecords(),this.new_records=this.records},methods:{test(t){console.log(t)},async removeRecord(t){W.deleteRecord(t);this.$router.go()},async getFirstName(t){const e=await this.patients.find((e=>e._id===t));return void 0==e?"Unknown":e.firstName||"Unknown"},async processRecords(){for(let t of this.records){const e=t.patient,s=await this.getFirstName(e);t.patient=s}}}},et=tt,st=(0,k.Z)(et,K,X,!1,null,null,null),rt=st.exports,it=s(7345),at=s(271),nt=s(6904),ot=s(6883),lt=function(){var t=this,e=t._self._c;return e(C.Z,[e($.Z,{attrs:{"no-gutters":""}},[e(T.Z,{staticClass:"mx-auto",attrs:{sm:"8"}},[e(l.Z,{staticClass:"pa-8"},[e("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/all_patients"}},[e(h.Z,[t._v(" mdi-arrow-left-bold-circle-outline ")])],1),e(B.EB,[t._v("Add New Patient")]),e(c.Z),e(nt.Z,{ref:"form",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e($.Z,{staticClass:"pt-5"},[e(T.Z,{attrs:{cols:"12",md:"6"}},[e(Y.Z,{attrs:{rules:t.nameRules,counter:10,label:"First Name",required:""},model:{value:t.patient.firstName,callback:function(e){t.$set(t.patient,"firstName",e)},expression:"patient.firstName"}})],1),e(T.Z,{attrs:{cols:"12",md:"6"}},[e(Y.Z,{attrs:{rules:t.nameRules,counter:10,label:"Last Name",required:""},model:{value:t.patient.lastName,callback:function(e){t.$set(t.patient,"lastName",e)},expression:"patient.lastName"}})],1)],1),e(Y.Z,{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.patient.email,callback:function(e){t.$set(t.patient,"email",e)},expression:"patient.email"}}),e($.Z,{staticClass:"d-flex align-center"},[e(T.Z,{attrs:{cols:"12",md:"6"}},[e(x.Z,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:r}){return[e(Y.Z,t._g(t._b({attrs:{label:"Birthday date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",r,!1),s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(it.Z,{attrs:{"active-picker":t.activePicker,max:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),min:"1950-01-01"},on:{"update:activePicker":function(e){t.activePicker=e},"update:active-picker":function(e){t.activePicker=e},change:t.save},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),e(T.Z,{staticClass:"pt-7",attrs:{cols:"12",md:"6"}},[e(ot.Z,{attrs:{items:t.genders,label:"Gender",dense:""},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}})],1)],1),e(at.Z,{attrs:{"show-size":"",counter:"",multiple:"",label:"Upload photo"},on:{change:t.selectFile}}),e(o.Z,{staticClass:"mt-3 white--text",attrs:{type:"submit",color:"#0f6e2f"}},[t._v("Add Patient")])],1)],1)],1)],1)],1)},ct=[],ht=(s(7658),{data(){return{nameRules:[t=>!!t||"Name is required",t=>t.length<=10||"Name must be less than 10 characters"],emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+/.test(t)||"E-mail must be valid"],activePicker:null,date:null,menu:!1,genders:["female","male","(blank)"],patient:{firstName:"",lastName:"",email:"",image:"",birthday:"",gender:""},image:"",gender:""}},watch:{menu(t){t&&setTimeout((()=>this.activePicker="YEAR"))}},methods:{save(t){this.$refs.menu.save(t)},selectFile(t){this.image=t[0]},async submitForm(){const t=new FormData;t.append("image",this.image),t.append("firstName",this.patient.firstName),t.append("lastName",this.patient.lastName),t.append("email",this.patient.email);const e=new Date(this.date);if(t.append("birthday",e.toISOString().substr(0,10)),t.append("gender",this.gender),this.$refs.form.validate()){const e=await W.addPatient(t);this.$router.push({name:"all_patients",params:{message:e.message}})}}}}),pt=ht,ut=(0,k.Z)(pt,lt,ct,!1,null,null,null),mt=ut.exports,dt=s(9789),ft=function(){var t=this,e=t._self._c;return e(C.Z,[e($.Z,{attrs:{"no-gutters":""}},[e(T.Z,{staticClass:"mx-auto",attrs:{sm:"8"}},[e(l.Z,{staticClass:"pa-8"},[e("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/all_patients"}},[e(h.Z,[t._v(" mdi-arrow-left-bold-circle-outline ")])],1),e(B.EB,[e(n.Z,[e(p.Z,{attrs:{src:`/${t.patient.image}`}})],1),e("p",{staticClass:"ml-3 mt-3 mr-2"},[t._v(t._s(t.patient.firstName)+" "+t._s(t.patient.lastName))]),e(dt.Z,{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:r}){return[e(o.Z,t._g(t._b({attrs:{icon:"",color:"#0f6e2f"},on:{click:t.edit}},"v-btn",r,!1),s),[e(h.Z,{attrs:{small:""}},[t._v(" mdi-pencil ")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.Z,[e(nt.Z,{ref:"form",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.updateForm.apply(null,arguments)}}},[e(B.EB,[e("span",{staticClass:"text-h5"},[t._v("Edit Patient Info")])]),e(B.ZB,[e(C.Z,[e($.Z,{staticClass:"pt-5"},[e(T.Z,{attrs:{cols:"12",md:"6"}},[e(Y.Z,{attrs:{rules:t.nameRules,counter:10,label:"First Name",required:""},model:{value:t.changedPatient.firstName,callback:function(e){t.$set(t.changedPatient,"firstName",e)},expression:"changedPatient.firstName"}})],1),e(T.Z,{attrs:{cols:"12",md:"6"}},[e(Y.Z,{attrs:{rules:t.nameRules,counter:10,label:"Last Name",required:""},model:{value:t.changedPatient.lastName,callback:function(e){t.$set(t.changedPatient,"lastName",e)},expression:"changedPatient.lastName"}})],1)],1),e(Y.Z,{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.changedPatient.email,callback:function(e){t.$set(t.changedPatient,"email",e)},expression:"changedPatient.email"}}),e($.Z,{staticClass:"d-flex align-center"},[e(T.Z,{attrs:{cols:"12",md:"6"}},[e(x.Z,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:r}){return[e(Y.Z,t._g(t._b({attrs:{label:"Birthday date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",r,!1),s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(it.Z,{attrs:{"active-picker":t.activePicker,max:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),min:"1950-01-01"},on:{"update:activePicker":function(e){t.activePicker=e},"update:active-picker":function(e){t.activePicker=e},change:t.save},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),e(T.Z,{staticClass:"pt-7",attrs:{cols:"12",md:"6"}},[e(ot.Z,{attrs:{items:t.genders,label:"Gender",dense:""},model:{value:t.changedPatient.gender,callback:function(e){t.$set(t.changedPatient,"gender",e)},expression:"changedPatient.gender"}})],1)],1),e(at.Z,{attrs:{"show-size":"",counter:"",multiple:"",label:"Upload new photo"},on:{change:t.selectFile}}),e(p.Z,{attrs:{src:`/${t.patient.image}`,width:"50"}})],1)],1),e(B.h7,[e(_.Z),e(o.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),e(o.Z,{attrs:{type:"submit",color:"blue darken-1",text:""},on:{click:t.updateForm}},[t._v(" Save ")])],1)],1)],1)],1)],1),e(c.Z),e(B.ZB,[e("div",{staticClass:"font-weight-bold ml-8 mb-2"},[t._v(" Email: "+t._s(t.patient.email)+" ")]),e("div",{staticClass:"font-weight-bold ml-8 mb-2"},[t._v(" Birthday: "+t._s(t.patient.birthday)+" ")]),e("div",{staticClass:"font-weight-bold ml-8 mb-2"},[t._v(" Gender: "+t._s(t.patient.gender)+" ")])]),e(c.Z),e(I.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.records},scopedSlots:t._u([{key:"item.actions",fn:function({item:s}){return[e(h.Z,{attrs:{small:""},on:{click:function(e){return t.removeRecord(s._id)}}},[t._v(" mdi-delete ")])]}}])})],1)],1)],1)],1)},At=[],vt={data(){return{nameRules:[t=>!!t||"Name is required",t=>t.length<=10||"Name must be less than 10 characters"],emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+/.test(t)||"E-mail must be valid"],patient:{firstName:"",lastName:"",email:"",image:"",birthday:"",gender:"",records:""},changedPatient:{firstName:"",lastName:"",email:"",image:"",birthday:"",gender:"",records:""},headers:[{text:"Report",value:"report"},{text:"Joint",value:"joint"},{text:"Test time",value:"time"},{text:"Actions",value:"actions",sortable:!1}],menu:!1,genders:["female","male","(blank)"],dialog:!1,image:"",activePicker:null,date:null,records:[],records_ids:[]}},watch:{menu(t){t&&setTimeout((()=>this.activePicker="YEAR"))}},async created(){const t=await W.getPatientByID(this.$route.params.id);this.patient=t,this.date=this.patient.birthday,this.reports=this.patient.reports,this.records_ids=this.patient.records,this.processRecords()},methods:{async removeRecord(t){const e=new FormData;e.append("record",t),await W.removePatientRecord(this.$route.params.id,e);W.deleteRecord(t);this.$router.go()},async processRecords(){console.log(this.records_ids);for(let t of this.records_ids){let e=await W.getRecordByID(t);this.records.push(e)}},edit(){this.changedPatient=Object.assign({},this.patient),console.log(this.changedPatient.firstName)},selectFile(t){this.image=t[0]},async updateForm(){const t=new FormData;t.append("image",this.image),t.append("old_image",this.patient.image),t.append("firstName",this.changedPatient.firstName),t.append("lastName",this.changedPatient.lastName),t.append("email",this.changedPatient.email);const e=new Date(this.date);if(console.log(e.toISOString().substr(0,10)),t.append("birthday",e.toISOString().substr(0,10)),t.append("gender",this.changedPatient.gender),this.$refs.form.validate()){await W.updatePatient(this.$route.params.id,t);this.$router.go()}},save(t){this.$refs.menu.save(t),console.log(t)},close(){this.dialog=!1}}},xt=vt,gt=(0,k.Z)(xt,ft,At,!1,null,null,null),_t=gt.exports,yt=s(1212),bt=s(4562),Zt=s(6392),qt=s(5891),kt=function(){var t=this,e=t._self._c;return e(C.Z,[e(yt.Z,{staticStyle:{"background-color":"rgba(255, 255, 255, 0.7)"},model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[e(Zt.Rp,{staticStyle:{"background-color":"white"}},[e(qt.Z,{attrs:{complete:t.e1>1,step:"1"}},[t._v("Upload data")]),e(c.Z),e(qt.Z,{attrs:{complete:t.e1>2,step:"2"}},[t._v("Auto select")]),e(c.Z),e(qt.Z,{attrs:{complete:t.e1>3,step:"3"}},[t._v("Manual select "),e("small",[t._v("Optional")])]),e(c.Z),e(qt.Z,{attrs:{step:"4"}},[t._v("View result")])],1),e(Zt.gd,[e(bt.Z,{attrs:{step:"1"}},[e("StepOne",{attrs:{next:t.nextStep,formData:t.formData}})],1),e(bt.Z,{attrs:{step:"2"}},[e("StepTwo",{attrs:{next:t.nextStep,result:t.resultStep,previous:t.previousStep,formData:t.formData}})],1),e(bt.Z,{attrs:{step:"3"}},[e("StepThree",{attrs:{next:t.nextStep,previous:t.previousStep,formData:t.formData}})],1),e(bt.Z,{attrs:{step:"4"}},[e("StepFour",{attrs:{previous:t.previousStep,auto:t.autoStep,formData:t.formData}})],1)],1)],1)],1)},wt=[],Pt=s(2402),Dt=s(3591),Tt=s(3432),Ct=function(){var t=this,e=t._self._c;return e(C.Z,[e(nt.Z,{ref:"form",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e($.Z,{attrs:{"no-gutters":""}},[e(T.Z,{staticClass:"mx-auto",attrs:{sm:"8"}},[e(l.Z,{staticClass:"mb-8 pa-8",attrs:{height:"380px"}},[e(B.EB,{staticClass:"pt-0"},[t._v("Upload a data file")]),e(c.Z),e($.Z,{staticClass:"pt-5"},[e(T.Z,{attrs:{cols:"12",md:"6"}},[e(Y.Z,{attrs:{label:"Search a patient",clearable:""},scopedSlots:t._u([{key:"append",fn:function(){return[e(Tt.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e(h.Z,t._g({attrs:{size:"24"}},s),[t._v("mdi-help-circle-outline")])]}}])},[e("span",[t._v("Enter a patient name or email address to search for a patient.")])])]},proxy:!0}]),model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),e(T.Z,{attrs:{cols:"12",md:"6"}},[e(ot.Z,{attrs:{rules:t.rules,items:t.filteredPatients,"item-text":t.concatenatedText,"item-value":"_id",label:"Select the patient",filterable:!0},on:{change:t.changePatient},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e("div",[e("div",[t._v(t._s(s.firstName)+" "+t._s(s.lastName)+" - "+t._s(s.email))])])]}}]),model:{value:t.patient,callback:function(e){t.patient=e},expression:"patient"}})],1)],1),e($.Z,[e(T.Z,{attrs:{cols:"12",md:"6"}},[e(at.Z,{attrs:{rules:t.rules,"show-size":"",counter:"",multiple:"",label:"Upload data"},on:{change:t.selectFile}})],1),e(T.Z,{attrs:{cols:"12",md:"6"}},[e(ot.Z,{staticClass:"pt-5",attrs:{rules:t.rules,items:t.joints,label:"Joint",dense:""},on:{change:t.changeJoint},model:{value:t.joint,callback:function(e){t.joint=e},expression:"joint"}})],1)],1),e($.Z,[e(T.Z,{attrs:{cols:"12"}},[e(Dt.Z,{attrs:{row:"",rules:t.rules},on:{change:t.changeType},scopedSlots:t._u([{key:"label",fn:function(){return[e(Tt.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("div",t._g({},s),[t._v("Data type: ")])]}}])},[e("span",[t._v("Concentric is when the muscle shortens and eccentric is when it lengthens.")])])]},proxy:!0}]),model:{value:t.dataType,callback:function(e){t.dataType=e},expression:"dataType"}},[e(Pt.Z,{attrs:{label:"Concentric",value:"concentric"}}),e(Pt.Z,{attrs:{label:"Eccentric",value:"eccentric"}})],1)],1)],1)],1)],1)],1),e($.Z,{staticClass:"d-flex justify-center",attrs:{"no-gutters":""}},[e(T.Z,{staticClass:"d-flex justify-end",attrs:{sm:"8"}},[e(o.Z,{attrs:{type:"submit",color:"primary"}},[t._v(" Continue ")])],1)],1)],1)],1)},$t=[],Mt={data(){return{rules:[t=>!!t||"This field is required!"],patients:[],searchQuery:"",joints:["Left knee","Right knee","Others"],joint:"",patient:"",dataType:""}},computed:{filteredPatients(){return""===this.searchQuery||null===this.searchQuery?this.patients:this.patients.filter((t=>{const e=new RegExp(this.searchQuery,"i");return e.test(t.firstName)||e.test(t.lastName)||e.test(t.email)}))},concatenatedText(){return t=>`${t.firstName} ${t.lastName} - ${t.email}`}},props:{next:Function,formData:{type:Object,required:!0}},methods:{async submitForm(){this.$refs.form.validate()&&this.next()},async getPatients(){this.patients=await W.getAllPatient()},selectFile(t){this.formData.dataFile=t[0]},changeType(){this.formData.dataType=this.dataType},changePatient(){this.formData.patient=this.patient},changeJoint(){this.formData.joint=this.joint}},mounted(){this.getPatients()}},St=Mt,Nt=(0,k.Z)(St,Ct,$t,!1,null,null,null),jt=Nt.exports,Ft=function(){var t=this,e=t._self._c;return e(C.Z,{staticClass:"pl-10 pr-10"},[e(l.Z,{staticClass:"mb-8 pl-8",attrs:{height:"490px"}},[e("svg",{ref:"chart1"}),e("svg",{ref:"chart2"}),e("svg",{ref:"chart3"})]),e($.Z,{staticClass:"text-center"},[e(T.Z,{staticClass:"d-flex justify-left",attrs:{md:"4"}},[e(o.Z,{attrs:{color:"primary"},on:{click:t.previousStep}},[t._v("back")])],1),e(T.Z,{attrs:{md:"4"}},[e(o.Z,{attrs:{outlined:"",color:"primary"},on:{click:t.nextStep}},[t._v("I am not satisfied")])],1),e(T.Z,{staticClass:"d-flex justify-end",attrs:{md:"4"}},[e(o.Z,{attrs:{color:"primary"},on:{click:t.viewResult}},[t._v("view result")])],1)],1)],1)},Ot=[],Rt=s(4650),Bt={data(){return{index:[],torques:[],times:[],posAnats:[],velocities:[],velocityLimits:[],indexArr:[],torquesArr:[],torquesArr_h:[],torquesArr_q:[],timesArr:[],timesArr_h:[],timesArr_q:[],posAnatsArr:[],posAnatsArr_h:[],posAnatsArr_q:[],velocitiesArr:[],velocitiesArr_h:[],velocitiesArr_q:[],fileContent:"",sectionPoints:[0],numSections:1,maxTorque:"",maxIndex:"",minTorque:"",minIndex:"",velTol:.1,romTol:.1,torTol:.1}},props:{next:Function,previous:Function,result:Function,formData:{type:Object,required:!0}},watch:{"formData.dataFile"(t){null!=t&&null!=this.formData.dataType&&(this.clearChart(),this.loadDataFile(t,this.formData.dataType))},"formData.dataType"(t){console.log(this.formData.dataFile),null!=this.formData.dataFile&&null!=t&&(this.clearChart(),this.loadDataFile(this.formData.dataFile,t))},"formData.manual"(t){0==t&&(this.clearChart(),this.loadDataFile(this.formData.dataFile,this.formData.dataType))}},methods:{nextStep(){this.formData.manual=1,this.next()},previousStep(){this.previous()},viewResult(){this.formData.viewResult=1,this.result()},clearChart(){this.indexArr=[],this.torquesArr=[],this.timesArr=[],this.velocitiesArr=[],this.posAnatsArr=[],this.torquesArr_h=[],this.torquesArr_q=[],this.timesArr_h=[],this.timesArr_q=[],this.velocitiesArr_h=[],this.velocitiesArr_q=[],this.posAnatsArr_h=[],this.posAnatsArr_q=[],Rt.Ys(this.$refs.chart1).selectAll("g").remove(),Rt.Ys(this.$refs.chart2).selectAll("g").remove(),Rt.Ys(this.$refs.chart3).selectAll("g").remove()},loadDataFile(t,e){let s=new FileReader;s.onload=t=>{this.fileContent=t.target.result;const s=this.fileContent.split("\n");this.formData.test_time=s[1].slice(0,-1);const r=s.slice(6).filter((t=>{const[e,s,r,i,a,n]=t.split(/\s+/);return!isNaN(e)&&!isNaN(s)&&!isNaN(r)&&!isNaN(i)&&!isNaN(a)&&!isNaN(n)})).map((t=>{const[e,s,r,i,a,n]=t.split(/\s+/);return{a:e,time:s,torque:r,position:i,posAnat:a,velocity:n}}));this.times=r.map((t=>parseFloat(t.time))),this.torques=r.map((t=>parseFloat(t.torque))),this.posAnats=r.map((t=>parseFloat(t.posAnat))),this.velocities=r.map((t=>parseFloat(t.velocity))),this.index=Array.from({length:this.times.length},((t,e)=>e)),this.formData.times=this.times,this.formData.torques=this.torques,this.formData.posAnats=this.posAnats,this.formData.velocities=this.velocities,this.formData.index=this.index,this.applyFiltering(e),this.drawChart()},s.readAsText(t)},applyFiltering(t){let e=[];for(let o=0;o<this.velocities.length;o++)0!==Math.abs(this.velocities[o])&&e.push(this.velocities[o]);const s=t=>t.reduce(((e,s,r,i)=>t.filter((t=>t===e)).length>=t.filter((t=>t===s)).length?e:s));let r=Math.abs(10*Math.round(s(e)/10));this.formData.velMax=r;let i=[];i[0]=r+Math.abs(r*this.velTol),i[1]=r-Math.abs(r*this.velTol),i[2]=-r+Math.abs(r*this.velTol),i[3]=-r-Math.abs(r*this.velTol);for(let o=0;o<this.times.length;o++)(this.velocities[o]<=i[0]&&this.velocities[o]>=i[1]||this.velocities[o]<=i[2]&&this.velocities[o]>=i[3])&&(this.torquesArr.push(this.torques[o]),this.timesArr.push(this.times[o]),this.posAnatsArr.push(this.posAnats[o]),this.velocitiesArr.push(this.velocities[o]),this.indexArr.push(this.index[o]));this.creatSectionData();let a=0;a="concentric"===t?80:65;for(let o=2*this.numSections-1;o>=0;o-=2)Math.abs(this.posAnatsArr[this.sectionPoints[o-1]]-this.posAnatsArr[this.sectionPoints[o]])<a&&(this.indexArr.splice(this.sectionPoints[o-1],this.sectionPoints[o]-this.sectionPoints[o-1]+1),this.posAnatsArr.splice(this.sectionPoints[o-1],this.sectionPoints[o]-this.sectionPoints[o-1]+1),this.timesArr.splice(this.sectionPoints[o-1],this.sectionPoints[o]-this.sectionPoints[o-1]+1),this.torquesArr.splice(this.sectionPoints[o-1],this.sectionPoints[o]-this.sectionPoints[o-1]+1),this.velocitiesArr.splice(this.sectionPoints[o-1],this.sectionPoints[o]-this.sectionPoints[o-1]+1));this.creatSectionData();let n=this.indexArr.length;if("concentric"===t)for(let o=0;o<n;o++)(this.velocitiesArr[o]<0&&this.torquesArr[o]>=0||this.velocitiesArr[o]>0&&this.torquesArr[o]<=0)&&(this.torquesArr.splice(o,1),this.timesArr.splice(o,1),this.posAnatsArr.splice(o,1),this.velocitiesArr.splice(o,1),this.indexArr.splice(o,1),o--,n--);else for(let o=0;o<n;o++)this.velocitiesArr[o]<0&&(this.torquesArr.splice(o,1),this.timesArr.splice(o,1),this.posAnatsArr.splice(o,1),this.velocitiesArr.splice(o,1),this.indexArr.splice(o,1),o--,n--);if(this.creatSectionData(),"concentric"===t){let t=[];for(let i=0;i<2*this.numSections;i+=2)this.posAnatsArr[this.sectionPoints[i]]<this.posAnatsArr[this.sectionPoints[i+1]]&&t.push(this.sectionPoints[i],this.sectionPoints[i+1]);this.updateMinMax();for(let i=t.length-1;i>=1;i-=2)Math.min(...this.torquesArr.slice(t[i-1],t[i]+1))>(1-this.torTol)*this.minTorque&&(this.indexArr.splice(t[i-1],t[i]-t[i-1]+1),this.timesArr.splice(t[i-1],t[i]-t[i-1]+1),this.velocitiesArr.splice(t[i-1],t[i]-t[i-1]+1),this.torquesArr.splice(t[i-1],t[i]-t[i-1]+1),this.posAnatsArr.splice(t[i-1],t[i]-t[i-1]+1),t.splice(i-1,2));this.updateMinMax();let e=0;for(let i=t.length-1;i>=1;i-=2)if(t[i-1]<this.minIndex&&t[i]>this.minIndex){e=Math.abs(this.posAnatsArr[t[i]]-this.posAnatsArr[t[i-1]]);break}for(let i=t.length-1;i>=1;i-=2)Math.abs(this.posAnatsArr[t[i]]-this.posAnatsArr[t[i-1]])<(1-this.romTol)*e&&(this.indexArr.splice(t[i-1],t[i]-t[i-1]+1),this.timesArr.splice(t[i-1],t[i]-t[i-1]+1),this.velocitiesArr.splice(t[i-1],t[i]-t[i-1]+1),this.posAnatsArr.splice(t[i-1],t[i]-t[i-1]+1),this.torquesArr.splice(t[i-1],t[i]-t[i-1]+1),t.splice(i,1),t.splice(i-1,1));for(let i=0;i<t.length;i+=2)this.torquesArr_h.push(...this.torquesArr.slice(t[i],t[i+1]+1)),this.timesArr_h.push(...this.timesArr.slice(t[i],t[i+1]+1)),this.posAnatsArr_h.push(...this.posAnatsArr.slice(t[i],t[i+1]+1)),this.velocitiesArr_h.push(...this.velocitiesArr.slice(t[i],t[i+1]+1));this.creatSectionData();let s=[];for(let i=0;i<2*this.numSections;i+=2)this.posAnatsArr[this.sectionPoints[i]]>this.posAnatsArr[this.sectionPoints[i+1]]&&s.push(this.sectionPoints[i],this.sectionPoints[i+1]);this.updateMinMax();for(let i=s.length-1;i>=1;i-=2)Math.max(...this.torquesArr.slice(s[i-1],s[i]+1))<(1-this.torTol)*this.maxTorque&&(this.indexArr.splice(s[i-1],s[i]-s[i-1]+1),this.timesArr.splice(s[i-1],s[i]-s[i-1]+1),this.velocitiesArr.splice(s[i-1],s[i]-s[i-1]+1),this.torquesArr.splice(s[i-1],s[i]-s[i-1]+1),this.posAnatsArr.splice(s[i-1],s[i]-s[i-1]+1),s.splice(i-1,2));this.updateMinMax();let r=0;for(let i=s.length-1;i>=1;i-=2)if(s[i-1]<this.maxIndex&&s[i]>this.maxIndex){r=Math.abs(this.posAnatsArr[s[i]]-this.posAnatsArr[s[i-1]]);break}for(let i=s.length-1;i>=1;i-=2)Math.abs(this.posAnatsArr[s[i]]-this.posAnatsArr[s[i-1]])<(1-this.romTol)*r&&(this.indexArr.splice(s[i-1],s[i]-s[i-1]+1),this.timesArr.splice(s[i-1],s[i]-s[i-1]+1),this.velocitiesArr.splice(s[i-1],s[i]-s[i-1]+1),this.posAnatsArr.splice(s[i-1],s[i]-s[i-1]+1),this.torquesArr.splice(s[i-1],s[i]-s[i-1]+1),s.splice(i,1),s.splice(i-1,1));for(let i=0;i<s.length;i+=2)this.torquesArr_q.push(...this.torquesArr.slice(s[i],s[i+1]+1)),this.timesArr_q.push(...this.timesArr.slice(s[i],s[i+1]+1)),this.posAnatsArr_q.push(...this.posAnatsArr.slice(s[i],s[i+1]+1)),this.velocitiesArr_q.push(...this.velocitiesArr.slice(s[i],s[i+1]+1))}else{let t=this.sectionPoints;this.minTorque=Math.min(...this.torquesArr),this.minIndex=this.torquesArr.indexOf(this.minTorque),console.log(this.torquesArr),console.log(this.sectionPoints);for(let s=t.length-1;s>=1;s-=2)Math.min(...this.torquesArr.slice(t[s-1],t[s]+1))>(1-this.torTol)*this.minTorque&&(this.indexArr.splice(t[s-1],t[s]-t[s-1]+1),this.timesArr.splice(t[s-1],t[s]-t[s-1]+1),this.velocitiesArr.splice(t[s-1],t[s]-t[s-1]+1),this.torquesArr.splice(t[s-1],t[s]-t[s-1]+1),this.posAnatsArr.splice(t[s-1],t[s]-t[s-1]+1),t.splice(s-1,2));this.minTorque=Math.min(...this.torquesArr),this.minIndex=this.torquesArr.indexOf(this.minTorque);let e=0;for(let s=t.length-1;s>=1;s-=2)if(t[s-1]<this.minIndex&&t[s]>this.minIndex){e=Math.abs(this.posAnatsArr[t[s]]-this.posAnatsArr[t[s-1]]);break}for(let s=t.length-1;s>=1;s-=2)Math.abs(this.posAnatsArr[t[s]]-this.posAnatsArr[t[s-1]])<(1-this.romTol)*e&&(this.indexArr.splice(t[s-1],t[s]-t[s-1]+1),this.timesArr.splice(t[s-1],t[s]-t[s-1]+1),this.velocitiesArr.splice(t[s-1],t[s]-t[s-1]+1),this.posAnatsArr.splice(t[s-1],t[s]-t[s-1]+1),this.torquesArr.splice(t[s-1],t[s]-t[s-1]+1),t.splice(s,1),t.splice(s-1,1))}this.formData.x_angle_h=this.posAnatsArr_h,this.formData.y_torq_h=this.torquesArr_h,this.formData.x_angle_q=this.posAnatsArr_q,this.formData.y_torq_q=this.torquesArr_q,this.creatSectionData()},updateMinMax(){this.maxTorque=Math.max(...this.torquesArr),this.maxIndex=this.torquesArr.indexOf(this.maxTorque),this.minTorque=Math.min(...this.torquesArr),this.minIndex=this.torquesArr.indexOf(this.minTorque)},creatSectionData(){this.numSections=1,this.sectionPoints=[0];for(let t=0;t<this.indexArr.length-1;t++)while(this.indexArr[t+1]-this.indexArr[t]!==1){this.numSections++,this.sectionPoints.push(t,t+1);break}this.sectionPoints.push(this.indexArr.length-1)},drawChart(){const t={top:20,right:20,bottom:30,left:50},e=900-t.left-t.right,s=150-t.top-t.bottom,r=Rt.Ys(this.$refs.chart1).attr("width",e+t.left+t.right).attr("height",s+t.top+t.bottom).append("g").attr("transform",`translate(${t.left}, ${t.top})`),i=Rt.Ys(this.$refs.chart2).attr("width",e+t.left+t.right).attr("height",s+t.top+t.bottom).append("g").attr("transform",`translate(${t.left}, ${t.top})`),a=Rt.Ys(this.$refs.chart3).attr("width",e+t.left+t.right).attr("height",s+t.top+t.bottom).append("g").attr("transform",`translate(${t.left}, ${t.top})`),n=Rt.BYU().domain(Rt.Wem(this.times)).range([0,e]),o=Rt.BYU().domain(Rt.Wem(this.torques)).range([s,0]),l=Rt.BYU().domain(Rt.Wem(this.posAnats)).range([s,0]),c=Rt.BYU().domain(Rt.Wem(this.velocities)).range([s,0]),h=Rt.LLu(n),p=Rt.y4O(o),u=Rt.y4O(l),m=Rt.y4O(c);r.append("g").attr("transform",`translate(0, ${s})`).call(h).append("text").style("fill","black").attr("text-anchor","end").attr("x",e).attr("y",t.bottom-3).text("Time (ms)"),r.append("g").call(p).append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",20-t.left).attr("x",-t.top).attr("fill","black").text("Torque (N*m)"),r.append("path").datum(this.torques).attr("fill","none").attr("stroke","#0f6e2f").attr("stroke-width",1.5).attr("d",Rt.jvg().x(((t,e)=>n(this.times[e]))).y((t=>o(t)))),r.selectAll(".torques-h").data(this.torquesArr_h).enter().append("circle").attr("class","torques-h").attr("cx",((t,e)=>n(this.timesArr_h[e]))).attr("cy",(t=>o(t))).attr("r",3).attr("stroke","#73B9D7").attr("fill","none"),r.selectAll(".torques-q").data(this.torquesArr_q).enter().append("circle").attr("class","torques-q").attr("cx",((t,e)=>n(this.timesArr_q[e]))).attr("cy",(t=>o(t))).attr("r",3).attr("stroke","#D79173").attr("fill","none"),i.append("g").attr("transform",`translate(0, ${s})`).call(h).append("text").attr("text-anchor","end").attr("x",e).attr("y",t.bottom-3).style("fill","black").text("Time (ms)"),i.append("g").call(u).append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",20-t.left).attr("x",-t.top).attr("fill","black").text("Angle (Degrees)"),i.append("path").datum(this.posAnats).attr("fill","none").attr("stroke","#0f6e2f").attr("stroke-width",1.5).attr("d",Rt.jvg().x(((t,e)=>n(this.times[e]))).y((t=>l(t)))),i.selectAll(".posAn-h").data(this.posAnatsArr_h).enter().append("circle").attr("class","posAn-h").attr("cx",((t,e)=>n(this.timesArr_h[e]))).attr("cy",(t=>l(t))).attr("r",3).attr("stroke","#73B9D7").attr("fill","none"),i.selectAll(".posAn-q").data(this.posAnatsArr_q).enter().append("circle").attr("class","posAn-q").attr("cx",((t,e)=>n(this.timesArr_q[e]))).attr("cy",(t=>l(t))).attr("r",3).attr("stroke","#D79173").attr("fill","none"),a.append("g").attr("transform",`translate(0, ${s})`).call(h).append("text").attr("text-anchor","end").attr("x",e).attr("y",t.bottom-3).style("fill","black").text("Time (ms)"),a.append("g").call(m).append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",20-t.left).attr("x",-t.top).attr("fill","black").text("Velocity (Deg/sec)"),a.append("path").datum(this.velocities).attr("fill","none").attr("stroke","#0f6e2f").attr("stroke-width",1.5).attr("d",Rt.jvg().x(((t,e)=>n(this.times[e]))).y((t=>c(t)))),a.selectAll(".velo-h").data(this.velocitiesArr_h).enter().append("circle").attr("class","velo-h").attr("cx",((t,e)=>n(this.timesArr_h[e]))).attr("cy",(t=>c(t))).attr("r",3).attr("stroke","#73B9D7").attr("fill","none"),a.selectAll(".velo-q").data(this.velocitiesArr_q).enter().append("circle").attr("class","velo-q").attr("cx",((t,e)=>n(this.timesArr_q[e]))).attr("cy",(t=>c(t))).attr("r",3).attr("stroke","#D79173").attr("fill","none")}}},It=Bt,Yt=(0,k.Z)(It,Ft,Ot,!1,null,null,null),Et=Yt.exports,Ut=function(){var t=this,e=t._self._c;return e(C.Z,{staticClass:"pl-10 pr-10"},[e($.Z,{attrs:{"no-gutters":""}},[e(T.Z,{staticClass:"mx-auto",attrs:{sm:"10"}},[e(l.Z,{staticClass:"mb-4 pl-4 pr-4",attrs:{height:"520px"}},[e("svg",{ref:"chart1"}),e("svg",{ref:"chart2"}),e("svg",{ref:"chart3"}),e($.Z,{staticClass:"pl-7"},[e(T.Z,{attrs:{md:"8"}},[e($.Z,{staticClass:"text-center justify-center"},[e(T.Z,{staticClass:"d-flex py-1",attrs:{md:"3"}},[e(Y.Z,{attrs:{label:"velocity tolerance"},model:{value:t.velTol,callback:function(e){t.velTol=e},expression:"velTol"}})],1),e(T.Z,{staticClass:"d-flex py-1",attrs:{md:"3"}},[e(Y.Z,{attrs:{label:"max velocity"},model:{value:t.velMax,callback:function(e){t.velMax=e},expression:"velMax"}})],1),e(T.Z,{staticClass:"d-flex py-1",attrs:{md:"3"}},[e(Y.Z,{attrs:{label:"min velocity"},model:{value:t.velMin,callback:function(e){t.velMin=e},expression:"velMin"}})],1)],1),e($.Z,{staticClass:"text-center justify-center"},[e(T.Z,{staticClass:"d-flex justify-left py-0",attrs:{md:"3"}},[e(Y.Z,{attrs:{label:"ROM"},model:{value:t.rom,callback:function(e){t.rom=e},expression:"rom"}})],1),e(T.Z,{staticClass:"d-flex justify-left py-0",attrs:{md:"3"}},[e(Y.Z,{attrs:{label:"ROM tolerance"},model:{value:t.romTol,callback:function(e){t.romTol=e},expression:"romTol"}})],1),e(T.Z,{staticClass:"d-flex justify-left py-0",attrs:{md:"3"}},[e(Y.Z,{attrs:{label:"torque tolerance"},model:{value:t.torTol,callback:function(e){t.torTol=e},expression:"torTol"}})],1)],1)],1),e(T.Z,{staticClass:"d-flex align-center"},[e($.Z,{staticClass:"text-center justify-start"},[e(o.Z,{on:{click:t.redraw}},[t._v("select")])],1)],1)],1)],1)],1)],1),e($.Z,{staticClass:"d-flex justify-center",attrs:{"no-gutters":""}},[e(T.Z,{staticClass:"d-flex justify-left",attrs:{sm:"5"}},[e(o.Z,{attrs:{color:"primary"},on:{click:t.previousStep}},[t._v("back")])],1),e(T.Z,{staticClass:"d-flex justify-end",attrs:{sm:"5"}},[e(o.Z,{attrs:{color:"primary"},on:{click:t.nextStep}},[t._v("view result")])],1)],1)],1)},Lt=[],Vt={data(){return{index:[],torques:[],times:[],posAnats:[],velocities:[],velocityLimits:[],indexArr:[],torquesArr:[],torquesArr_h:[],torquesArr_q:[],timesArr:[],timesArr_h:[],timesArr_q:[],posAnatsArr:[],posAnatsArr_h:[],posAnatsArr_q:[],velocitiesArr:[],velocitiesArr_h:[],velocitiesArr_q:[],sectionPoints:[0],numSections:1,maxTorque:"",maxIndex:"",minTorque:"",minIndex:"",velTol:.1,romTol:.1,torTol:.1,rom:0,velMax:0,velMin:0}},props:{next:Function,previous:Function,formData:{type:Object,required:!0}},watch:{"formData.manual"(t){this.clearChart(),t&&("concentric"===this.formData.dataType?this.rom=80:this.rom=65,this.times=this.formData.times,this.torques=this.formData.torques,this.posAnats=this.formData.posAnats,this.velocities=this.formData.velocities,this.index=this.formData.index,this.velMax=this.formData.velMax,this.velMin=-this.velMax,this.applyFiltering(this.formData.dataType),this.drawChart())}},methods:{nextStep(){this.formData.x_angle_h_m=this.posAnatsArr_h,this.formData.y_torq_h_m=this.torquesArr_h,this.formData.x_angle_q_m=this.posAnatsArr_q,this.formData.y_torq_q_m=this.torquesArr_q,this.formData.viewResult=1,this.next()},previousStep(){this.formData.manual=0,this.previous()},clearChart(){this.indexArr=[],this.torquesArr=[],this.timesArr=[],this.velocitiesArr=[],this.posAnatsArr=[],this.torquesArr_h=[],this.torquesArr_q=[],this.timesArr_h=[],this.timesArr_q=[],this.velocitiesArr_h=[],this.velocitiesArr_q=[],this.posAnatsArr_h=[],this.posAnatsArr_q=[],Rt.Ys(this.$refs.chart1).selectAll("g").remove(),Rt.Ys(this.$refs.chart2).selectAll("g").remove(),Rt.Ys(this.$refs.chart3).selectAll("g").remove()},redraw(){this.clearChart(),this.times=this.formData.times,this.torques=this.formData.torques,this.posAnats=this.formData.posAnats,this.velocities=this.formData.velocities,this.index=this.formData.index,this.applyFiltering(this.formData.dataType),this.drawChart()},drawChart(){const t={top:20,right:20,bottom:30,left:80},e=800-t.left-t.right,s=120-t.top-t.bottom,r=Rt.Ys(this.$refs.chart1).attr("width",e+t.left+t.right).attr("height",s+t.top+t.bottom).append("g").attr("transform",`translate(${t.left}, ${t.top})`),i=Rt.Ys(this.$refs.chart2).attr("width",e+t.left+t.right).attr("height",s+t.top+t.bottom).append("g").attr("transform",`translate(${t.left}, ${t.top})`),a=Rt.Ys(this.$refs.chart3).attr("width",e+t.left+t.right).attr("height",s+t.top+t.bottom).append("g").attr("transform",`translate(${t.left}, ${t.top})`),n=Rt.BYU().domain(Rt.Wem(this.times)).range([0,e]),o=Rt.BYU().domain(Rt.Wem(this.torques)).range([s,0]),l=Rt.BYU().domain(Rt.Wem(this.posAnats)).range([s,0]),c=Rt.BYU().domain(Rt.Wem(this.velocities)).range([s,0]),h=Rt.LLu(n),p=Rt.y4O(o),u=Rt.y4O(l),m=Rt.y4O(c);r.append("g").attr("transform",`translate(0, ${s})`).call(h).append("text").style("fill","black").attr("text-anchor","end").attr("x",e).attr("y",t.bottom-3).text("Time (ms)"),r.append("g").call(p).append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",45-t.left).attr("x",-t.top).attr("fill","black").text("Torque (N*m)"),r.append("path").datum(this.torques).attr("fill","none").attr("stroke","#0f6e2f").attr("stroke-width",1.5).attr("d",Rt.jvg().x(((t,e)=>n(this.times[e]))).y((t=>o(t)))),r.selectAll(".torques-h").data(this.torquesArr_h).enter().append("circle").attr("class","torques-h").attr("cx",((t,e)=>n(this.timesArr_h[e]))).attr("cy",(t=>o(t))).attr("r",3).attr("stroke","#73B9D7").attr("fill","none"),r.selectAll(".torques-q").data(this.torquesArr_q).enter().append("circle").attr("class","torques-q").attr("cx",((t,e)=>n(this.timesArr_q[e]))).attr("cy",(t=>o(t))).attr("r",3).attr("stroke","#D79173").attr("fill","none"),i.append("g").attr("transform",`translate(0, ${s})`).call(h).append("text").attr("text-anchor","end").attr("x",e).attr("y",t.bottom-3).style("fill","black").text("Time (ms)"),i.append("g").call(u).append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",45-t.left).attr("x",-t.top).attr("fill","black").text("Angle (Degrees)"),i.append("path").datum(this.posAnats).attr("fill","none").attr("stroke","#0f6e2f").attr("stroke-width",1.5).attr("d",Rt.jvg().x(((t,e)=>n(this.times[e]))).y((t=>l(t)))),i.selectAll(".posAn-h").data(this.posAnatsArr_h).enter().append("circle").attr("class","posAn-h").attr("cx",((t,e)=>n(this.timesArr_h[e]))).attr("cy",(t=>l(t))).attr("r",3).attr("stroke","#73B9D7").attr("fill","none"),i.selectAll(".posAn-q").data(this.posAnatsArr_q).enter().append("circle").attr("class","posAn-q").attr("cx",((t,e)=>n(this.timesArr_q[e]))).attr("cy",(t=>l(t))).attr("r",3).attr("stroke","#D79173").attr("fill","none"),a.append("g").attr("transform",`translate(0, ${s})`).call(h).append("text").attr("text-anchor","end").attr("x",e).attr("y",t.bottom-3).style("fill","black").text("Time (ms)"),a.append("g").call(m).append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",45-t.left).attr("x",20-t.top).attr("fill","black").text("Velocity (Deg/sec)"),a.append("path").datum(this.velocities).attr("fill","none").attr("stroke","#0f6e2f").attr("stroke-width",1.5).attr("d",Rt.jvg().x(((t,e)=>n(this.times[e]))).y((t=>c(t)))),a.selectAll(".velo-h").data(this.velocitiesArr_h).enter().append("circle").attr("class","velo-h").attr("cx",((t,e)=>n(this.timesArr_h[e]))).attr("cy",(t=>c(t))).attr("r",3).attr("stroke","#73B9D7").attr("fill","none"),a.selectAll(".velo-q").data(this.velocitiesArr_q).enter().append("circle").attr("class","velo-q").attr("cx",((t,e)=>n(this.timesArr_q[e]))).attr("cy",(t=>c(t))).attr("r",3).attr("stroke","#D79173").attr("fill","none")},applyFiltering(t){let e=[];e[0]=Number(this.velMax)+Math.abs(this.velMax*this.velTol),e[1]=Number(this.velMax)-Math.abs(this.velMax*this.velTol),e[2]=Number(this.velMin)+Math.abs(this.velMin*this.velTol),e[3]=Number(this.velMin)-Math.abs(this.velMin*this.velTol);for(let r=0;r<this.times.length;r++)(this.velocities[r]<=e[0]&&this.velocities[r]>=e[1]||this.velocities[r]<=e[2]&&this.velocities[r]>=e[3])&&(this.torquesArr.push(this.torques[r]),this.timesArr.push(this.times[r]),this.posAnatsArr.push(this.posAnats[r]),this.velocitiesArr.push(this.velocities[r]),this.indexArr.push(this.index[r]));this.creatSectionData();for(let r=2*this.numSections-1;r>=0;r-=2)Math.abs(this.posAnatsArr[this.sectionPoints[r-1]]-this.posAnatsArr[this.sectionPoints[r]])<this.rom&&(this.indexArr.splice(this.sectionPoints[r-1],this.sectionPoints[r]-this.sectionPoints[r-1]+1),this.posAnatsArr.splice(this.sectionPoints[r-1],this.sectionPoints[r]-this.sectionPoints[r-1]+1),this.timesArr.splice(this.sectionPoints[r-1],this.sectionPoints[r]-this.sectionPoints[r-1]+1),this.torquesArr.splice(this.sectionPoints[r-1],this.sectionPoints[r]-this.sectionPoints[r-1]+1),this.velocitiesArr.splice(this.sectionPoints[r-1],this.sectionPoints[r]-this.sectionPoints[r-1]+1));this.creatSectionData();let s=this.indexArr.length;if("concentric"===t)for(let r=0;r<s;r++)(this.velocitiesArr[r]<0&&this.torquesArr[r]>=0||this.velocitiesArr[r]>0&&this.torquesArr[r]<=0)&&(this.torquesArr.splice(r,1),this.timesArr.splice(r,1),this.posAnatsArr.splice(r,1),this.velocitiesArr.splice(r,1),this.indexArr.splice(r,1),r--,s--);else for(let r=0;r<s;r++)this.velocitiesArr[r]<0&&(this.torquesArr.splice(r,1),this.timesArr.splice(r,1),this.posAnatsArr.splice(r,1),this.velocitiesArr.splice(r,1),this.indexArr.splice(r,1),r--,s--);if(this.creatSectionData(),"concentric"===t){let t=[];for(let i=0;i<2*this.numSections;i+=2)this.posAnatsArr[this.sectionPoints[i]]<this.posAnatsArr[this.sectionPoints[i+1]]&&t.push(this.sectionPoints[i],this.sectionPoints[i+1]);this.updateMinMax();for(let i=t.length-1;i>=1;i-=2)Math.min(...this.torquesArr.slice(t[i-1],t[i]+1))>(1-this.torTol)*this.minTorque&&(this.indexArr.splice(t[i-1],t[i]-t[i-1]+1),this.timesArr.splice(t[i-1],t[i]-t[i-1]+1),this.velocitiesArr.splice(t[i-1],t[i]-t[i-1]+1),this.torquesArr.splice(t[i-1],t[i]-t[i-1]+1),this.posAnatsArr.splice(t[i-1],t[i]-t[i-1]+1),t.splice(i-1,2));this.updateMinMax();let e=0;for(let i=t.length-1;i>=1;i-=2)if(t[i-1]<this.minIndex&&t[i]>this.minIndex){e=Math.abs(this.posAnatsArr[t[i]]-this.posAnatsArr[t[i-1]]);break}for(let i=t.length-1;i>=1;i-=2)Math.abs(this.posAnatsArr[t[i]]-this.posAnatsArr[t[i-1]])<(1-this.romTol)*e&&(this.indexArr.splice(t[i-1],t[i]-t[i-1]+1),this.timesArr.splice(t[i-1],t[i]-t[i-1]+1),this.velocitiesArr.splice(t[i-1],t[i]-t[i-1]+1),this.posAnatsArr.splice(t[i-1],t[i]-t[i-1]+1),this.torquesArr.splice(t[i-1],t[i]-t[i-1]+1),t.splice(i,1),t.splice(i-1,1));for(let i=0;i<t.length;i+=2)this.torquesArr_h.push(...this.torquesArr.slice(t[i],t[i+1]+1)),this.timesArr_h.push(...this.timesArr.slice(t[i],t[i+1]+1)),this.posAnatsArr_h.push(...this.posAnatsArr.slice(t[i],t[i+1]+1)),this.velocitiesArr_h.push(...this.velocitiesArr.slice(t[i],t[i+1]+1));this.creatSectionData();let s=[];for(let i=0;i<2*this.numSections;i+=2)this.posAnatsArr[this.sectionPoints[i]]>this.posAnatsArr[this.sectionPoints[i+1]]&&s.push(this.sectionPoints[i],this.sectionPoints[i+1]);this.updateMinMax();for(let i=s.length-1;i>=1;i-=2)Math.max(...this.torquesArr.slice(s[i-1],s[i]+1))<(1-this.torTol)*this.maxTorque&&(this.indexArr.splice(s[i-1],s[i]-s[i-1]+1),this.timesArr.splice(s[i-1],s[i]-s[i-1]+1),this.velocitiesArr.splice(s[i-1],s[i]-s[i-1]+1),this.torquesArr.splice(s[i-1],s[i]-s[i-1]+1),this.posAnatsArr.splice(s[i-1],s[i]-s[i-1]+1),s.splice(i-1,2));this.updateMinMax();let r=0;for(let i=s.length-1;i>=1;i-=2)if(s[i-1]<this.maxIndex&&s[i]>this.maxIndex){r=Math.abs(this.posAnatsArr[s[i]]-this.posAnatsArr[s[i-1]]);break}for(let i=s.length-1;i>=1;i-=2)Math.abs(this.posAnatsArr[s[i]]-this.posAnatsArr[s[i-1]])<(1-this.romTol)*r&&(this.indexArr.splice(s[i-1],s[i]-s[i-1]+1),this.timesArr.splice(s[i-1],s[i]-s[i-1]+1),this.velocitiesArr.splice(s[i-1],s[i]-s[i-1]+1),this.posAnatsArr.splice(s[i-1],s[i]-s[i-1]+1),this.torquesArr.splice(s[i-1],s[i]-s[i-1]+1),s.splice(i,1),s.splice(i-1,1));for(let i=0;i<s.length;i+=2)this.torquesArr_q.push(...this.torquesArr.slice(s[i],s[i+1]+1)),this.timesArr_q.push(...this.timesArr.slice(s[i],s[i+1]+1)),this.posAnatsArr_q.push(...this.posAnatsArr.slice(s[i],s[i+1]+1)),this.velocitiesArr_q.push(...this.velocitiesArr.slice(s[i],s[i+1]+1))}else{let t=this.sectionPoints;this.minTorque=Math.min(...this.torquesArr),this.minIndex=this.torquesArr.indexOf(this.minTorque);for(let s=t.length-1;s>=1;s-=2)Math.min(...this.torquesArr.slice(t[s-1],t[s]+1))>(1-this.torTol)*this.minTorque&&(this.indexArr.splice(t[s-1],t[s]-t[s-1]+1),this.timesArr.splice(t[s-1],t[s]-t[s-1]+1),this.velocitiesArr.splice(t[s-1],t[s]-t[s-1]+1),this.torquesArr.splice(t[s-1],t[s]-t[s-1]+1),this.posAnatsArr.splice(t[s-1],t[s]-t[s-1]+1),t.splice(s-1,2));this.minTorque=Math.min(...this.torquesArr),this.minIndex=this.torquesArr.indexOf(this.minTorque);let e=0;for(let s=t.length-1;s>=1;s-=2)if(t[s-1]<this.minIndex&&t[s]>this.minIndex){e=Math.abs(this.posAnatsArr[t[s]]-this.posAnatsArr[t[s-1]]);break}for(let s=t.length-1;s>=1;s-=2)Math.abs(this.posAnatsArr[t[s]]-this.posAnatsArr[t[s-1]])<(1-this.romTol)*e&&(this.indexArr.splice(t[s-1],t[s]-t[s-1]+1),this.timesArr.splice(t[s-1],t[s]-t[s-1]+1),this.velocitiesArr.splice(t[s-1],t[s]-t[s-1]+1),this.posAnatsArr.splice(t[s-1],t[s]-t[s-1]+1),this.torquesArr.splice(t[s-1],t[s]-t[s-1]+1),t.splice(s,1),t.splice(s-1,1))}},updateMinMax(){this.maxTorque=Math.max(...this.torquesArr),this.maxIndex=this.torquesArr.indexOf(this.maxTorque),this.minTorque=Math.min(...this.torquesArr),this.minIndex=this.torquesArr.indexOf(this.minTorque)},creatSectionData(){this.numSections=1,this.sectionPoints=[0];for(let t=0;t<this.indexArr.length-1;t++)while(this.indexArr[t+1]-this.indexArr[t]!==1){this.numSections++,this.sectionPoints.push(t,t+1);break}this.sectionPoints.push(this.indexArr.length-1)}}},zt=Vt,Wt=(0,k.Z)(zt,Ut,Lt,!1,null,null,null),Jt=Wt.exports,Qt=s(5617),Gt=function(){var t=this,e=t._self._c;return e(C.Z,{staticClass:"pl-10 pr-10"},[e(l.Z,{staticClass:"mb-8 pl-8",attrs:{height:"490px"}},[e($.Z,[e(T.Z,{attrs:{md:"8"}},[e("div",{ref:"pics"},[e("svg",{ref:"chart2"}),e("svg",{ref:"chart1"}),e("svg",{ref:"chart3"})])]),e(T.Z,{attrs:{md:"4"}},[e($.Z,{staticClass:"d-flex justify-end pr-5 pt-10 pl-2"},[e(Qt.Z,{staticClass:"px-3",attrs:{rows:"8",label:"Add Notes",variant:"solo"}}),e(dt.Z,{attrs:{width:"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:r}){return[e(o.Z,t._g(t._b({attrs:{rounded:"",outlined:"",color:"#0f6e2f"}},"v-btn",r,!1),s),[t._v("download report")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.Z,[e(B.ZB,[e("div",{staticClass:"pt-10 text-h5"},[t._v(" Please confirm to download the pdf report. ")])]),e(B.h7,{staticClass:"justify-end"},[e(o.Z,{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("cancle")]),e(o.Z,{attrs:{color:"primary"},on:{click:t.download}},[t._v("download")])],1)],1)],1)],1)],1)],1)],1),e($.Z,{staticClass:"text-center"},[e(T.Z,{staticClass:"d-flex justify-left",attrs:{md:"6"}},[e(o.Z,{attrs:{color:"primary"},on:{click:t.previousStep}},[t._v("back")])],1),e(T.Z,{staticClass:"d-flex justify-end",attrs:{md:"6"}},[e(o.Z,{attrs:{color:"primary"},on:{click:t.submit}},[t._v("submit")])],1)],1)],1)},Ht=[],Kt=s(4730),Xt=s(1120),te={data(){return{x_h:[],y_h:[],x_q:[],y_q:[],dialog:!1,report:""}},props:{previous:Function,auto:Function,formData:{type:Object,required:!0}},watch:{"formData.viewResult"(t){this.clearChart(),1==this.formData.manual?(this.x_h=this.formData.x_angle_h_m,this.y_h=this.formData.y_torq_h_m,this.x_q=this.formData.x_angle_q_m,this.y_q=this.formData.y_torq_q_m):(this.x_h=this.formData.x_angle_h,this.y_h=this.formData.y_torq_h,this.x_q=this.formData.x_angle_q,this.y_q=this.formData.y_torq_q),t&&this.loadResult()}},methods:{previousStep(){this.formData.viewResult=0,1==this.formData.manual?this.previous():this.auto()},clearChart(){Rt.Ys(this.$refs.chart1).selectAll("g").remove(),Rt.Ys(this.$refs.chart2).selectAll("g").remove(),Rt.Ys(this.$refs.chart3).selectAll("g").remove()},async submit(){this.generate();const t=new FormData;t.append("joint",this.formData.joint),t.append("time",this.formData.test_time),t.append("data_type",this.formData.dataType),t.append("patient",this.formData.patient);const e=await W.addRecords(t),s=new FormData;s.append("record",e.recordId),await W.updatePatientRecord(this.formData.patient,s),this.$router.push({name:"my_records",params:{message:e.message}})},generate(){Xt(this.$refs.pics,{useCORS:!0}).then((t=>{const e=t.toDataURL("image/png"),s=new Kt.ZP;s.addImage(e,"PNG",10,10,100,100),this.report=s}))},download(){this.generate(),this.report.save("report.pdf")},loadResult(){let t=this.x_h.map(((t,e)=>({x:t,y:this.y_h[e]})));t.sort(((t,e)=>t.x-e.x));let e=t.map((t=>t.x)),s=t.map((t=>t.y)),r=0,i=0,a=0,n=0,o=[],l=[],c=[],h=[];while(r<e.length)0===i||e[r]===i?(a+=s[r],i=e[r],n++):(o.push(i),l.push(a/n),i=e[r],a=s[r],n=1),r++;0!==n&&(o.push(i),l.push(a/n)),o[o.length-1]-o[0]+1==o.length?l=this.moving(l,10):console.log("lowess");let p=o.map((function(t,e){return{x:t,y:l[e]}}));r=0,i=0,a=0,n=0;let u=this.x_q.map(((t,e)=>({x:t,y:this.y_q[e]})));u.sort(((t,e)=>t.x-e.x));const m=u.map((t=>t.x)),d=u.map((t=>t.y));while(r<m.length)0===i||m[r]===i?(a+=d[r],i=m[r],n++):(c.push(i),h.push(a/n),i=m[r],a=d[r],n=1),r++;0!==n&&(c.push(i),h.push(a/n)),c[c.length-1]-c[0]+1==c.length?h=this.moving(h,10):console.log("lowess");let f=c.map((function(t,e){return{x:t,y:h[e]}}));console.log(l),console.log(p);for(var A=[],v=[],x=0;x<o.length;x++)if(c.includes(o[x])){var g=c.indexOf(o[x]);A.push(o[x]),v.push(l[x]/h[g])}const _={top:10,right:20,bottom:30,left:50},y=700-_.left-_.right,b=150-_.top-_.bottom,Z=Rt.Ys(this.$refs.chart1).attr("width",y+_.left+_.right).attr("height",b+_.top+_.bottom).append("g").attr("transform",`translate(${_.left}, ${_.top})`),q=Rt.Ys(this.$refs.chart2).attr("width",y+_.left+_.right).attr("height",b+_.top+_.bottom).append("g").attr("transform",`translate(${_.left}, ${_.top})`),k=Rt.Ys(this.$refs.chart3).attr("width",y+_.left+_.right).attr("height",b+_.top+_.bottom).append("g").attr("transform",`translate(${_.left}, ${_.top})`),w=Rt.BYU().domain([Rt.VV$(this.x_h),Rt.Fp7(this.x_h)]).range([0,y]),P=Rt.BYU().domain([Rt.VV$(this.y_h),Rt.Fp7(this.y_h)]).range([b,0]),D=Rt.BYU().domain([Rt.VV$(this.x_q),Rt.Fp7(this.x_q)]).range([0,y]),T=Rt.BYU().domain([Rt.VV$(this.y_q),Rt.Fp7(this.y_q)]).range([b,0]),C=Rt.BYU().domain([Rt.VV$(A),Rt.Fp7(A)]).range([0,y]),$=Rt.BYU().domain([Rt.VV$(v),Rt.Fp7(v)]).range([b,0]),M=Rt.LLu(w),S=Rt.y4O(P),N=Rt.LLu(D),j=Rt.y4O(T);Z.append("g").attr("class","x axis").attr("transform",`translate(0,${b})`).call(M),Z.append("g").attr("class","y axis").call(S),Z.selectAll("circle").data(this.x_h).enter().append("circle").attr("cx",((t,e)=>w(this.x_h[e]))).attr("cy",((t,e)=>P(this.y_h[e]))).attr("r",2).attr("stroke","#73B9D7").attr("fill","none"),Z.append("path").datum(p).attr("d",Rt.jvg().x((function(t){return w(t.x)})).y((function(t){return P(t.y)}))).attr("stroke","black").attr("stroke-width",1).attr("fill","none"),q.append("g").attr("class","x axis").attr("transform",`translate(0,${b})`).call(N),q.append("g").attr("class","y axis").call(j),q.selectAll("circle").data(this.x_q).enter().append("circle").attr("cx",((t,e)=>D(this.x_q[e]))).attr("cy",((t,e)=>T(this.y_q[e]))).attr("r",2).attr("stroke","#73B9D7").attr("fill","none"),q.append("path").datum(f).attr("d",Rt.jvg().x((function(t){return D(t.x)})).y((function(t){return T(t.y)}))).attr("stroke","black").attr("stroke-width",1).attr("fill","none"),Rt.Ys(this.$refs.chart2).node().appendChild(q.node()),k.append("path").datum(v).attr("d",Rt.jvg().x((function(t,e){return C(A[e])})).y((function(t,e){return $(v[e])}))).attr("stroke","black").attr("stroke-width",1).attr("fill","none"),k.append("g").attr("transform","translate(0,"+b+")").call(Rt.LLu(C)),k.append("g").call(Rt.y4O($))},moving(t,e){e=Math.floor(e);var s=t.length;e=Math.min(e,s);var r=e-1+e%2,i=new Array(s).fill(0);i[0]=t[0];for(var a=0;a<s;a++){var n=0;if(a-Math.floor(r/2)>=0){for(var o=a-Math.floor(r/2);o<=a+Math.floor(r/2);o++)o>=0&&o<s&&(n+=t[o]);i[a]=n/r}else{for(o=0;o<=2*a;o++)o<s&&(n+=t[o]);i[a]=n/(2*a+1)}}return i}}},ee=te,se=(0,k.Z)(ee,Gt,Ht,!1,null,null,null),re=se.exports,ie={components:{StepOne:jt,StepTwo:Et,StepThree:Jt,StepFour:re},data(){return{e1:1,formData:{dataFile:null,patient:"",joint:"",test_time:"",dataType:null,x_angle_h:[],y_torq_h:[],x_angle_q:[],y_torq_q:[],x_angle_h_m:[],y_torq_h_m:[],x_angle_q_m:[],y_torq_q_m:[],viewResult:0,manual:0,index:[],torques:[],times:[],posAnats:[],velocities:[],velMax:0}}},methods:{nextStep(){this.e1++},previousStep(){this.e1--},resultStep(){this.e1=4},autoStep(){this.e1=2}}},ae=ie,ne=(0,k.Z)(ae,kt,wt,!1,null,null,null),oe=ne.exports;r.ZP.use(D.ZP);const le=[{path:"/",name:"home",component:O},{path:"/all_patients",name:"all_patients",component:H},{path:"/my_records",name:"my_records",component:rt},{path:"/add_patient",name:"add_patient",component:mt},{path:"/patient/:id",name:"patient",component:_t},{path:"/steps",name:"steps",component:oe},{path:"/about",name:"about",component:()=>s.e(443).then(s.bind(s,2028))}],ce=new D.ZP({mode:"history",base:"/",routes:le});var he=ce,pe=s(2250);r.ZP.use(pe.Z);var ue=new pe.Z({theme:{themes:{light:{primary:"#0f6e2f"}}}});r.ZP.config.productionTip=!1,new r.ZP({router:he,vuetify:ue,render:t=>t(P)}).$mount("#app")},8949:function(t,e,s){t.exports=s.p+"img/logo-no-background.83959e29.png"},5087:function(t,e,s){t.exports=s.p+"img/bg11.9bd899ac.png"},8960:function(t,e,s){t.exports=s.p+"img/Meeting.3c4e112f.png"}},e={};function s(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,r,i,a){if(!r){var n=1/0;for(h=0;h<t.length;h++){r=t[h][0],i=t[h][1],a=t[h][2];for(var o=!0,l=0;l<r.length;l++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](r[l])}))?r.splice(l--,1):(o=!1,a<n&&(n=a));if(o){t.splice(h--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[r,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};s.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);s.r(a);var n={};t=t||[null,e({}),e([]),e(e)];for(var o=2&i&&r;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((function(t){n[t]=function(){return r[t]}}));return n["default"]=function(){return r},s.d(a,n),a}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,r){return s.f[r](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+(443===t?"about":t)+"."+{443:"d16de8f2",856:"e47d5ec9",860:"51e6c67c"}[t]+".js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="client:";s.l=function(r,i,a,n){if(t[r])t[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var p=c[h];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==e+a){o=p;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",e+a),o.src=r),t[r]=[i];var u=function(e,s){o.onerror=o.onload=null,clearTimeout(m);var i=t[r];if(delete t[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(t){return t(s)})),e)return e(s)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.f.j=function(e,r){var i=s.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(s,r){i=t[e]=[s,r]}));r.push(i[2]=a);var n=s.p+s.u(e),o=new Error,l=function(r){if(s.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",o.name="ChunkLoadError",o.type=a,o.request=n,i[1](o)}};s.l(n,l,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,a,n=r[0],o=r[1],l=r[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var h=l(s)}for(e&&e(r);c<n.length;c++)a=n[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(h)},r=self["webpackChunkclient"]=self["webpackChunkclient"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(1499)}));r=s.O(r)})();
//# sourceMappingURL=app.049d1b05.js.map